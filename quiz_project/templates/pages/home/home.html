{% extends 'bases/base.html' %}

{% block content %}
<div id="myindex">
        <!-- slider_area_start -->
        <div class="slider_area ">
            {% for item  in home %}
            {% if forloop.first %}
            <div class="single_slider d-flex align-items-center justify-content-center slider_bg_1">
                <div class="container">
                    <div class="row align-items-center justify-content-center">
                        <div class="col-xl-6 col-md-6">
                            <div class="illastrator_png">
                           
                                <img src="{{ item.image.url }}" alt="">
                          
                            </div>
                        </div>
                        <div class="col-xl-6 col-md-6">
                           
                            <div class="slider_info">
                                <h3> {{ item.titre }} </h3>
                                <a href="#" class="boxed_btn">{{ item.action }}</a>
                            </div>
                            
                        </div>
                    </div>
                </div>
            </div>
            {% endif %}
            {% endfor %}
        </div>
        <!-- slider_area_end -->
    
        <!-- about_area_start -->
        <div class="about_area">
            <div class="container">
                <div class="row">
                    <div class="col-xl-5 col-lg-6">
                        <div class="single_about_info">
                            {% for item in home %}
                            {% if forloop.first %}

                            <h3>{{ item.titre }} <br>
                                </h3>
                            <p>Our set he for firmament morning sixth subdue darkness creeping gathered divide our let god
                                moving. Moving in fourth air night bring upon youâ€™re it beast let you dominion likeness open
                                place day great wherein heaven sixth lesser subdue fowl </p>
                            <a href="#" class="boxed_btn">{{ item.action }}</a>
                            {% endif %}
                            {% endfor %}

                        </div>
                    </div>
                    <div class="col-xl-6 offset-xl-1 col-lg-6">
                        <div class="about_tutorials">
                            <div class="courses">
                                <div class="inner_courses">
                                    <div class="text_info">
                                        <span>20+</span>
                                        <p> Courses</p>
                                    </div>
                                </div>
                            </div>
                            <div class="courses-blue">
                                <div class="inner_courses">
                                    <div class="text_info">
                                        <span>7638</span>
                                        <p> Courses</p>
                                    </div>
    
                                </div>
                            </div>
                            <div class="courses-sky">
                                <div class="inner_courses">
                                    <div class="text_info">
                                        <span>230+</span>
                                        <p> Courses</p>
                                    </div>
    
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- about_area_end -->
    
    
        <!-- subscribe_newsletter_Start -->
        <div class="subscribe_newsletter">
            <div class="container">
                <div class="row">
                    <div class="col-xl-6 col-lg-6">
                        <div class="newsletter_text">
                            <h3>Subscribe Newsletter</h3>
                            <p>Your domain control panel is designed for ease-of-use and allows for all aspects of your</p>
                        </div>
                    </div>
                    <div class="col-xl-5 offset-xl-1 col-lg-6">
                        <div class="newsletter_form">
                            <h4>Your domain control panel is</h4>
                            <form action="#" class="newsletter_form">
                                <input type="text" placeholder="Enter your mail">
                                <button type="submit">Sign Up</button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
        <!-- subscribe_newsletter_end -->
        <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
        <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
        <script>
          new Vue({
              el: '#myindex',
              data () {
                return {
                  info: null
                }
              },
              data: {
                send_data: false,
                firstSection: [],
                nan: [],
                titre : '',
                id : '',
                good: false,
              },
              delimiters: ["${", "}"],
              mounted () {
                  this.getdata();
              }, 
              methods: {
                getdata: function () {
                        axios.defaults.xsrfCookieName = 'csrftoken'
                        axios.defaults.xsrfHeaderName = 'X-CSRFToken'
                        axios.post('http://127.0.0.1:8000/graphql/', {
                          query: `
                            query {
                                firstSectionIndex(id:1){
                                    id
                                    image 
                                    titre 
                                    action
                        
                                },
                                social(id:1){
                                    facebook
                                    twitter 
                                    instagram 
                                    youtube
    
                                } 
                            }     
                              `
                            }).then(response => {
                                console.log(response.data.data)
                                this.firstSection = response.data.data.firstSectionIndex
                                // console.log(this.nan)
                                // this.social = response.data.data.social
                                console.log(this.firstSection)
                                
                            })
                            .catch((err) => {
                                console.log('erreur')
                               
                                
                        })
                    }
                },
               
               
                
            })
        </script>
    
{% endblock content %}


    
    